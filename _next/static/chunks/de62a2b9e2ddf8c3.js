(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},68553,e=>{"use strict";let t=(0,e.i(75254).default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>t],68553)},78917,e=>{"use strict";let t=(0,e.i(75254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],78917)},75505,e=>{"use strict";let t=(0,e.i(75254).default)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);e.s(["FolderOpen",()=>t],75505)},78716,e=>{"use strict";let t=(0,e.i(75254).default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);e.s(["Video",()=>t],78716)},1671,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(2971),s=e.i(63008),l=e.i(75254);let i=(0,l.default)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),o=(0,l.default)("grid-2x2",[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 12h18",key:"1i2n21"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]]),n=(0,l.default)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),d=(0,l.default)("arrow-up-narrow-wide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),c=(0,l.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var h=e.i(78917),m=e.i(68553);function x({gridSize:e,onGridSizeChange:a,sortOption:r,onSortChange:s,mediaType:l,onMediaTypeChange:x,photoCount:p,hideMediaTypeFilter:g,showRefresh:u,onRefresh:f,driveFolderId:v}){return(0,t.jsx)("div",{className:"sticky top-14 md:top-16 z-30 bg-cream/95 backdrop-blur-md border-b border-slate/10 py-3 px-4",children:(0,t.jsxs)("div",{className:"max-w-[1200px] mx-auto flex items-center justify-between gap-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:g?(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate/60",children:[(0,t.jsx)(m.Camera,{className:"w-4 h-4"}),(0,t.jsxs)("span",{className:"text-sm",children:[(0,t.jsx)("span",{className:"font-medium text-slate",children:p})," fotoğraf"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>x("all"),className:`px-3 py-1.5 text-sm rounded-full transition-colors whitespace-nowrap ${"all"===l?"bg-slate text-cream":"bg-slate/10 hover:bg-slate/20"}`,children:"Tümü"}),(0,t.jsx)("button",{onClick:()=>x("photo"),className:`px-3 py-1.5 text-sm rounded-full transition-colors whitespace-nowrap ${"photo"===l?"bg-slate text-cream":"bg-slate/10 hover:bg-slate/20"}`,children:"Fotoğraflar"}),(0,t.jsx)("button",{onClick:()=>x("video"),className:`px-3 py-1.5 text-sm rounded-full transition-colors whitespace-nowrap ${"video"===l?"bg-slate text-cream":"bg-slate/10 hover:bg-slate/20"}`,children:"Videolar"})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[u&&(0,t.jsx)("button",{onClick:f,className:"p-2 rounded-lg bg-slate/10 hover:bg-slate/20 transition-colors",title:"Yenile",children:(0,t.jsx)(c,{className:"w-4 h-4"})}),v&&(0,t.jsx)("a",{href:`https://drive.google.com/drive/folders/${v}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg bg-slate/10 hover:bg-slate/20 transition-colors",title:"Google Drive'da Aç",children:(0,t.jsx)(h.ExternalLink,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{value:r,onChange:e=>s(e.target.value),className:"appearance-none bg-slate/10 hover:bg-slate/20 px-3 py-1.5 pr-8 text-sm rounded-lg cursor-pointer transition-colors","aria-label":"Sıralama",children:[(0,t.jsx)("option",{value:"chronological",children:"Tarihe göre"}),(0,t.jsx)("option",{value:"reverse",children:"Ters sıra"}),(0,t.jsx)("option",{value:"featured",children:"Öne çıkan"})]}),(0,t.jsx)(d,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 pointer-events-none"})]}),(0,t.jsxs)("div",{className:"hidden sm:flex items-center bg-slate/10 rounded-lg p-0.5",children:[(0,t.jsx)("button",{onClick:()=>a("compact"),className:`p-1.5 rounded transition-colors ${"compact"===e?"bg-cream shadow-sm":"hover:bg-slate/10"}`,"aria-label":"Kompakt görünüm",children:(0,t.jsx)(i,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>a("normal"),className:`p-1.5 rounded transition-colors ${"normal"===e?"bg-cream shadow-sm":"hover:bg-slate/10"}`,"aria-label":"Normal görünüm",children:(0,t.jsx)(o,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>a("large"),className:`p-1.5 rounded transition-colors ${"large"===e?"bg-cream shadow-sm":"hover:bg-slate/10"}`,"aria-label":"Büyük görünüm",children:(0,t.jsx)(n,{className:"w-4 h-4"})})]})]})]})})}var p=e.i(75505);function g({folderId:e,categoryId:r,categoryName:l}){let[i,o]=(0,a.useState)([]),[n,d]=(0,a.useState)(!0),[m,g]=(0,a.useState)(null),[u,f]=(0,a.useState)("normal"),[v,b]=(0,a.useState)("chronological"),j=(0,a.useCallback)(async()=>{if(!e){d(!1),g("Bu kategori için henüz fotoğraf eklenmemiş.");return}d(!0),g(null);try{let t=await fetch(`/api/drive-proxy?folderId=${e}`);if(!t.ok)throw Error("API not available");let a=await t.json();o(a.files||[])}catch{try{let t=`https://api.allorigins.win/raw?url=${encodeURIComponent(`https://drive.google.com/embeddedfolderview?id=${e}`)}`,a=await fetch(t),r=await a.text(),s=function(e){let t,a=[],r=/id="entry-([a-zA-Z0-9_-]+)"[\s\S]*?flip-entry-title">([^<]+)</g;for(;null!==(t=r.exec(e));){let e=t[1],r=t[2];/\.(jpg|jpeg|png|gif|webp|heic)$/i.test(r)&&a.push({id:e,name:r,thumbnailUrl:`https://drive.google.com/thumbnail?id=${e}&sz=w400`})}return a}(r);o(s)}catch(e){console.error("Proxy fetch failed:",e),g("embed")}}finally{d(!1)}},[e]);(0,a.useEffect)(()=>{j()},[j]);let y=[...i.map((e,t)=>{var a;let s=(a=e.id,{thumbnail:{small:`https://drive.google.com/thumbnail?id=${a}&sz=w200`,medium:`https://drive.google.com/thumbnail?id=${a}&sz=w400`,large:`https://drive.google.com/thumbnail?id=${a}&sz=w1600`},view:`https://drive.google.com/file/d/${a}/view`,download:`https://drive.google.com/uc?export=download&id=${a}`,embed:`https://drive.google.com/uc?export=view&id=${a}`}),i=[1080,1280,1440,1600],o=i[t%i.length];return{id:e.id,title:e.name.replace(/\.[^.]+$/,""),description:`${l} - Fotoğraf ${t+1}`,media_type:"photo",created_at:"2025-07-15",source:"google_drive",source_url:s.view,thumbnails:{small:s.thumbnail.small,medium:s.thumbnail.medium,large:s.thumbnail.large},original_url:s.download,width:1920,height:o,tags:[r],is_public:!0,featured:t<3,favorites_count:0,category_id:r}})];return("reverse"===v?y.reverse():"featured"===v&&y.sort((e,t)=>!!t.featured-!!e.featured),n)?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,t.jsx)(c,{className:"w-8 h-8 animate-spin text-accent mb-4"}),(0,t.jsx)("p",{className:"text-slate/60",children:"Fotoğraflar yükleniyor..."})]}):"embed"===m?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-start gap-3",children:[(0,t.jsx)(p.FolderOpen,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-amber-800 font-medium",children:"Google Drive Galerisi"}),(0,t.jsx)("p",{className:"text-amber-700 text-sm mt-1",children:"Fotoğrafları doğrudan Google Drive üzerinden görüntülüyorsunuz."})]})]}),(0,t.jsx)("div",{className:"rounded-xl overflow-hidden border border-slate/10 bg-white",children:(0,t.jsx)("iframe",{src:`https://drive.google.com/embeddedfolderview?id=${e}#grid`,className:"w-full h-[600px] md:h-[800px]",style:{border:0},title:`${l} Fotoğrafları`})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("a",{href:`https://drive.google.com/drive/folders/${e}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-accent text-white rounded-lg hover:bg-accent-dark transition-colors",children:[(0,t.jsx)(h.ExternalLink,{className:"w-4 h-4"}),"Google Drive'da Aç"]})})]}):m?(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)(p.FolderOpen,{className:"w-12 h-12 text-slate/30 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate/60",children:m}),(0,t.jsx)("p",{className:"text-sm text-slate/40 mt-2",children:"Bu kategori için fotoğraflar yakında eklenecek."})]}):0===i.length?(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)(p.FolderOpen,{className:"w-12 h-12 text-slate/30 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate/60",children:"Bu klasörde henüz fotoğraf yok."}),(0,t.jsxs)("button",{onClick:j,className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-slate/10 rounded-lg hover:bg-slate/20 transition-colors",children:[(0,t.jsx)(c,{className:"w-4 h-4"}),"Yenile"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x,{gridSize:u,onGridSizeChange:f,sortOption:v,onSortChange:b,mediaType:"all",onMediaTypeChange:()=>{},photoCount:i.length,hideMediaTypeFilter:!0,showRefresh:!0,onRefresh:j,driveFolderId:e}),(0,t.jsx)(s.default,{media:y,gridSize:u})]})}var u=e.i(13642),f=e.i(78716);function v({category:e,media:l}){let[i,o]=(0,a.useState)("normal"),[n,d]=(0,a.useState)("chronological"),[c,p]=(0,a.useState)("all"),v=!!e.drive_folder_id,b=(0,a.useMemo)(()=>{let e=[...l];switch("all"!==c&&(e=e.filter(e=>e.media_type===c)),n){case"reverse":e.reverse();break;case"featured":e.sort((e,t)=>!!t.featured-!!e.featured)}return e},[l,c,n]),j=l.filter(e=>"photo"===e.media_type).length,y=l.filter(e=>"video"===e.media_type).length;return(0,t.jsxs)("main",{className:"min-h-screen bg-cream",children:[(0,t.jsx)(r.default,{showBack:!0,title:e.name}),(0,t.jsxs)("div",{className:"relative h-48 md:h-64 bg-cover bg-center",style:{backgroundImage:`url(${e.cover_image})`},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 md:p-6",children:(0,t.jsxs)("div",{className:"max-w-[1200px] mx-auto",children:[(0,t.jsx)("h1",{className:"font-serif text-2xl md:text-3xl font-bold text-white",children:e.name}),(0,t.jsx)("p",{className:"text-white/80 text-sm md:text-base mt-1",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-white/70 text-sm",children:[!v&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(m.Camera,{className:"w-4 h-4"}),j," fotoğraf"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(f.Video,{className:"w-4 h-4"}),y," video"]})]}),(0,t.jsx)("span",{children:e.date_range}),v&&(0,t.jsxs)("a",{href:`https://drive.google.com/drive/folders/${e.drive_folder_id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-white transition-colors",children:[(0,t.jsx)(h.ExternalLink,{className:"w-4 h-4"}),"Google Drive"]})]})]})})]}),(0,t.jsx)("div",{className:"max-w-[1200px] mx-auto px-4 py-6",children:v?(0,t.jsx)(g,{folderId:e.drive_folder_id,categoryId:e.id,categoryName:e.name}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x,{gridSize:i,onGridSizeChange:o,sortOption:n,onSortChange:d,mediaType:c,onMediaTypeChange:p}),b.length>0?(0,t.jsx)(s.default,{media:b,gridSize:i}):(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-slate/60",children:"Bu filtreyle eşleşen medya bulunamadı."})})]})}),(0,t.jsx)(u.default,{})]})}e.s(["default",()=>v],1671)}]);