(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return l}});let l=e=>{}},68553,e=>{"use strict";let t=(0,e.i(75254).default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>t],68553)},78917,e=>{"use strict";let t=(0,e.i(75254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],78917)},75505,e=>{"use strict";let t=(0,e.i(75254).default)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);e.s(["FolderOpen",()=>t],75505)},78716,e=>{"use strict";let t=(0,e.i(75254).default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);e.s(["Video",()=>t],78716)},1671,e=>{"use strict";var t=e.i(43476),a=e.i(71645),l=e.i(2971),s=e.i(63008),r=e.i(75254);let i=(0,r.default)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),o=(0,r.default)("grid-2x2",[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 12h18",key:"1i2n21"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]]),n=(0,r.default)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),d=(0,r.default)("arrow-up-narrow-wide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);function c({gridSize:e,onGridSizeChange:a,sortOption:l,onSortChange:s,mediaType:r,onMediaTypeChange:c}){return(0,t.jsx)("div",{className:"sticky top-14 md:top-16 z-30 bg-cream/95 backdrop-blur-md border-b border-slate/10 py-3 px-4",children:(0,t.jsxs)("div",{className:"max-w-[1200px] mx-auto flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[(0,t.jsx)("button",{onClick:()=>c("all"),className:`px-3 py-1.5 text-sm rounded-full transition-colors whitespace-nowrap ${"all"===r?"bg-slate text-cream":"bg-slate/10 hover:bg-slate/20"}`,children:"Tümü"}),(0,t.jsx)("button",{onClick:()=>c("photo"),className:`px-3 py-1.5 text-sm rounded-full transition-colors whitespace-nowrap ${"photo"===r?"bg-slate text-cream":"bg-slate/10 hover:bg-slate/20"}`,children:"Fotoğraflar"}),(0,t.jsx)("button",{onClick:()=>c("video"),className:`px-3 py-1.5 text-sm rounded-full transition-colors whitespace-nowrap ${"video"===r?"bg-slate text-cream":"bg-slate/10 hover:bg-slate/20"}`,children:"Videolar"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{value:l,onChange:e=>s(e.target.value),className:"appearance-none bg-slate/10 hover:bg-slate/20 px-3 py-1.5 pr-8 text-sm rounded-lg cursor-pointer transition-colors","aria-label":"Sıralama",children:[(0,t.jsx)("option",{value:"chronological",children:"Tarihe göre"}),(0,t.jsx)("option",{value:"reverse",children:"Ters sıra"}),(0,t.jsx)("option",{value:"featured",children:"Öne çıkan"})]}),(0,t.jsx)(d,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 pointer-events-none"})]}),(0,t.jsxs)("div",{className:"hidden sm:flex items-center bg-slate/10 rounded-lg p-0.5",children:[(0,t.jsx)("button",{onClick:()=>a("compact"),className:`p-1.5 rounded transition-colors ${"compact"===e?"bg-cream shadow-sm":"hover:bg-slate/10"}`,"aria-label":"Kompakt görünüm",children:(0,t.jsx)(i,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>a("normal"),className:`p-1.5 rounded transition-colors ${"normal"===e?"bg-cream shadow-sm":"hover:bg-slate/10"}`,"aria-label":"Normal görünüm",children:(0,t.jsx)(o,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>a("large"),className:`p-1.5 rounded transition-colors ${"large"===e?"bg-cream shadow-sm":"hover:bg-slate/10"}`,"aria-label":"Büyük görünüm",children:(0,t.jsx)(n,{className:"w-4 h-4"})})]})]})]})})}var h=e.i(46932),m=e.i(40160),x=e.i(78917);let p=(0,r.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var g=e.i(75505);function u(e){return{thumbnail:{small:`https://drive.google.com/thumbnail?id=${e}&sz=w200`,medium:`https://drive.google.com/thumbnail?id=${e}&sz=w400`,large:`https://drive.google.com/thumbnail?id=${e}&sz=w800`},view:`https://drive.google.com/file/d/${e}/view`,download:`https://drive.google.com/uc?export=download&id=${e}`,embed:`https://drive.google.com/uc?export=view&id=${e}`}}var f=e.i(36016);function b({folderId:e,categoryId:l,categoryName:s}){let[r,i]=(0,a.useState)([]),[o,n]=(0,a.useState)(!0),[d,c]=(0,a.useState)(null),[b,v]=(0,a.useState)(null),j=(0,a.useCallback)(async()=>{if(!e){n(!1),c("Bu kategori için henüz fotoğraf eklenmemiş.");return}n(!0),c(null);try{let t=await fetch(`/api/drive-proxy?folderId=${e}`);if(!t.ok)throw Error("API not available");let a=await t.json();i(a.files||[])}catch{try{let t=`https://api.allorigins.win/raw?url=${encodeURIComponent(`https://drive.google.com/embeddedfolderview?id=${e}`)}`,a=await fetch(t),l=await a.text(),s=function(e){let t,a=[],l=/id="entry-([a-zA-Z0-9_-]+)"[\s\S]*?flip-entry-title">([^<]+)</g;for(;null!==(t=l.exec(e));){let e=t[1],l=t[2];/\.(jpg|jpeg|png|gif|webp|heic)$/i.test(l)&&a.push({id:e,name:l,thumbnailUrl:`https://drive.google.com/thumbnail?id=${e}&sz=w400`})}return a}(l);i(s)}catch(e){console.error("Proxy fetch failed:",e),c("embed")}}finally{n(!1)}},[e]);(0,a.useEffect)(()=>{j()},[j]);let y=r.map((e,t)=>{let a=u(e.id);return{id:e.id,title:e.name.replace(/\.[^.]+$/,""),description:`${s} - Fotoğraf ${t+1}`,media_type:"photo",created_at:new Date().toISOString(),source:"google_drive",source_url:a.view,thumbnails:a.thumbnail,original_url:a.embed,width:1920,height:1280,tags:[l],is_public:!0,featured:t<3,favorites_count:0,category_id:l}});return o?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,t.jsx)(p,{className:"w-8 h-8 animate-spin text-accent mb-4"}),(0,t.jsx)("p",{className:"text-slate/60",children:"Fotoğraflar yükleniyor..."})]}):"embed"===d?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-start gap-3",children:[(0,t.jsx)(g.FolderOpen,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-amber-800 font-medium",children:"Google Drive Galerisi"}),(0,t.jsx)("p",{className:"text-amber-700 text-sm mt-1",children:"Fotoğrafları doğrudan Google Drive üzerinden görüntülüyorsunuz."})]})]}),(0,t.jsx)("div",{className:"rounded-xl overflow-hidden border border-slate/10 bg-white",children:(0,t.jsx)("iframe",{src:`https://drive.google.com/embeddedfolderview?id=${e}#grid`,className:"w-full h-[600px] md:h-[800px]",style:{border:0},title:`${s} Fotoğrafları`})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("a",{href:`https://drive.google.com/drive/folders/${e}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-accent text-white rounded-lg hover:bg-accent-dark transition-colors",children:[(0,t.jsx)(x.ExternalLink,{className:"w-4 h-4"}),"Google Drive'da Aç"]})})]}):d?(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)(g.FolderOpen,{className:"w-12 h-12 text-slate/30 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate/60",children:d}),(0,t.jsx)("p",{className:"text-sm text-slate/40 mt-2",children:"Bu kategori için fotoğraflar yakında eklenecek."})]}):0===r.length?(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)(g.FolderOpen,{className:"w-12 h-12 text-slate/30 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate/60",children:"Bu klasörde henüz fotoğraf yok."}),(0,t.jsxs)("button",{onClick:j,className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-slate/10 rounded-lg hover:bg-slate/20 transition-colors",children:[(0,t.jsx)(p,{className:"w-4 h-4"}),"Yenile"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("p",{className:"text-slate/60",children:[(0,t.jsx)("span",{className:"font-medium text-slate",children:r.length})," fotoğraf"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:j,className:"p-2 rounded-lg bg-slate/10 hover:bg-slate/20 transition-colors",title:"Yenile",children:(0,t.jsx)(p,{className:"w-4 h-4"})}),(0,t.jsx)("a",{href:`https://drive.google.com/drive/folders/${e}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg bg-slate/10 hover:bg-slate/20 transition-colors",title:"Google Drive'da Aç",children:(0,t.jsx)(x.ExternalLink,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 md:gap-3",children:r.map((e,a)=>(0,t.jsx)(h.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Math.min(.03*a,.5)},children:(0,t.jsxs)("div",{onClick:()=>v(a),className:"relative group cursor-pointer rounded-lg overflow-hidden bg-slate/5 aspect-square",role:"button",tabIndex:0,onKeyDown:e=>"Enter"===e.key&&v(a),"aria-label":`${e.name} g\xf6r\xfcnt\xfcle`,children:[(0,t.jsx)("img",{src:e.thumbnailUrl,alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),window.open(u(e.id).download,"_blank")},className:"p-2 rounded-full bg-white/90 hover:bg-white transition-colors",title:"İndir",children:(0,t.jsx)(m.Download,{className:"w-4 h-4 text-slate"})})})}),(0,t.jsx)("div",{className:"absolute bottom-2 left-2 px-2 py-1 bg-black/50 backdrop-blur-sm rounded text-white text-xs",children:a+1})]})},e.id))}),null!==b&&y.length>0&&(0,t.jsx)(f.default,{media:y,initialIndex:b,onClose:()=>v(null)})]})}var v=e.i(13642),j=e.i(68553),y=e.i(78716);function w({category:e,media:r}){let[i,o]=(0,a.useState)("normal"),[n,d]=(0,a.useState)("chronological"),[h,m]=(0,a.useState)("all"),p=!!e.drive_folder_id,g=(0,a.useMemo)(()=>{let e=[...r];switch("all"!==h&&(e=e.filter(e=>e.media_type===h)),n){case"reverse":e.reverse();break;case"featured":e.sort((e,t)=>!!t.featured-!!e.featured)}return e},[r,h,n]),u=r.filter(e=>"photo"===e.media_type).length,f=r.filter(e=>"video"===e.media_type).length;return(0,t.jsxs)("main",{className:"min-h-screen bg-cream",children:[(0,t.jsx)(l.default,{showBack:!0,title:e.name}),(0,t.jsxs)("div",{className:"relative h-48 md:h-64 bg-cover bg-center",style:{backgroundImage:`url(${e.cover_image})`},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 md:p-6",children:(0,t.jsxs)("div",{className:"max-w-[1200px] mx-auto",children:[(0,t.jsx)("h1",{className:"font-serif text-2xl md:text-3xl font-bold text-white",children:e.name}),(0,t.jsx)("p",{className:"text-white/80 text-sm md:text-base mt-1",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-white/70 text-sm",children:[!p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(j.Camera,{className:"w-4 h-4"}),u," fotoğraf"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(y.Video,{className:"w-4 h-4"}),f," video"]})]}),(0,t.jsx)("span",{children:e.date_range}),p&&(0,t.jsxs)("a",{href:`https://drive.google.com/drive/folders/${e.drive_folder_id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-white transition-colors",children:[(0,t.jsx)(x.ExternalLink,{className:"w-4 h-4"}),"Google Drive"]})]})]})})]}),(0,t.jsx)("div",{className:"max-w-[1200px] mx-auto px-4 py-6",children:p?(0,t.jsx)(b,{folderId:e.drive_folder_id,categoryId:e.id,categoryName:e.name}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c,{gridSize:i,onGridSizeChange:o,sortOption:n,onSortChange:d,mediaType:h,onMediaTypeChange:m}),g.length>0?(0,t.jsx)(s.default,{media:g,gridSize:i}):(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-slate/60",children:"Bu filtreyle eşleşen medya bulunamadı."})})]})}),(0,t.jsx)(v.default,{})]})}e.s(["default",()=>w],1671)}]);