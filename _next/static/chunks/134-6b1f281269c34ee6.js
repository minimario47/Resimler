"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{1028:(e,t,a)=>{a.d(t,{A:()=>b});var l=a(5155),r=a(2115),i=a(9673),n=a(642),o=a(3210),c=a(8340);let s=(0,c.A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var d=a(7686);let h=(0,c.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var u=a(1641),m=a(1362);let x=(0,c.A)("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),y=(0,c.A)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function b({media:e,initialIndex:t,onClose:a}){let[c,b]=(0,r.useState)(t),[g,p]=(0,r.useState)(1),[f,w]=(0,r.useState)({x:0,y:0}),[k,v]=(0,r.useState)(!0),[j,N]=(0,r.useState)(!1),[C,S]=(0,r.useState)(!1),A=(0,r.useRef)(new Set([t])),_=(0,r.useRef)(null),E=e[c],P="video"===E.media_type;(0,r.useEffect)(()=>{[c-1,c+1,c+2,c-2].filter(t=>t>=0&&t<e.length).forEach(t=>{A.current.has(t)||(new window.Image().src=e[t].thumbnails.large,A.current.add(t))})},[c,e]);let I=(0,r.useCallback)(()=>{p(1),w({x:0,y:0}),S(!1),b(t=>(t+1)%e.length)},[e.length]),T=(0,r.useCallback)(()=>{p(1),w({x:0,y:0}),S(!1),b(t=>(t-1+e.length)%e.length)},[e.length]);(0,r.useEffect)(()=>{let e=e=>{switch(e.key){case"Escape":a();break;case"ArrowLeft":T();break;case"ArrowRight":I()}};return document.addEventListener("keydown",e),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=""}},[I,T,a]),(0,r.useEffect)(()=>(v(!0),_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{v(!1)},3e3),()=>{_.current&&clearTimeout(_.current)}),[c]);let $=e=>{p(t=>Math.min(Math.max("in"===e?1.5*t:t/1.5,1),3)),"out"===e&&g<=1.5&&w({x:0,y:0})},D=async()=>{if(navigator.share)try{await navigator.share({title:"\xd6zlem & Z\xfcbeyir D\xfcğ\xfcn Arşivi",text:"D\xfcğ\xfcn fotoğraflarından",url:window.location.href})}catch{}else navigator.clipboard.writeText(window.location.href)},M=(0,r.useCallback)(e=>{g>1||("left"===e?I():T())},[g,I,T]);return(0,l.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95",onClick:()=>v(!k),role:"dialog","aria-modal":"true","aria-label":"Fotoğraf g\xf6r\xfcnt\xfcleyici",children:[(0,l.jsx)(n.N,{children:k&&(0,l.jsxs)(i.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-0 left-0 right-0 z-10 p-4 flex items-center justify-between bg-gradient-to-b from-black/60 to-transparent",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("button",{onClick:a,className:"p-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors","aria-label":"Kapat",children:(0,l.jsx)(o.A,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:D,className:"p-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors","aria-label":"Paylaş",children:(0,l.jsx)(s,{className:"w-5 h-5 text-white"})}),(0,l.jsx)("button",{onClick:()=>N(!j),className:"p-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors","aria-label":j?"Favorilerden kaldır":"Favorilere ekle",children:(0,l.jsx)(d.A,{className:`w-5 h-5 ${j?"text-accent fill-accent":"text-white"}`})}),(0,l.jsxs)("button",{onClick:()=>{let e=document.createElement("a");e.href=E.original_url,e.download=`Ozlem-Zubeyir_${c+1}.jpg`,e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"p-3 rounded-full bg-accent hover:bg-accent-dark transition-colors flex items-center gap-2","aria-label":"İndir",children:[(0,l.jsx)(h,{className:"w-5 h-5 text-white"}),(0,l.jsx)("span",{className:"text-white text-sm hidden sm:inline",children:"İndir"})]})]})]})}),(0,l.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center",onTouchStart:e=>{let t=e.touches[0];e.currentTarget.dataset.startX=t.clientX.toString()},onTouchEnd:e=>{let t=parseFloat(e.currentTarget.dataset.startX||"0")-e.changedTouches[0].clientX;Math.abs(t)>50&&M(t>0?"left":"right")},children:[!C&&!P&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,l.jsx)("div",{className:"w-8 h-8 border-2 border-white/30 border-t-white rounded-full animate-spin"})}),(0,l.jsx)(i.P.div,{drag:g>1,dragConstraints:{left:-200,right:200,top:-200,bottom:200},onDrag:(e,t)=>{g>1&&w({x:f.x+t.delta.x,y:f.y+t.delta.y})},onDragEnd:(e,t)=>{1===g&&Math.abs(t.velocity.y)>500&&a()},onDoubleClick:()=>{g>1?(p(1),w({x:0,y:0})):p(2)},className:"relative w-full h-full flex items-center justify-center",style:{scale:g,x:f.x,y:f.y},children:P?(0,l.jsx)("video",{src:E.original_url,className:"max-w-full max-h-[85vh] object-contain",controls:!0,playsInline:!0,autoPlay:!0,onClick:e=>e.stopPropagation()}):(0,l.jsx)("img",{src:E.thumbnails.large,alt:`Fotoğraf ${c+1}`,className:`max-w-full max-h-[85vh] object-contain select-none transition-opacity duration-200 ${C?"opacity-100":"opacity-0"}`,draggable:!1,onLoad:()=>S(!0)})}),e.length>1&&k&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),T()},className:"absolute left-2 md:left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors","aria-label":"\xd6nceki",children:(0,l.jsx)(u.A,{className:"w-6 h-6 text-white"})}),(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),I()},className:"absolute right-2 md:right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors","aria-label":"Sonraki",children:(0,l.jsx)(m.A,{className:"w-6 h-6 text-white"})})]})]}),(0,l.jsx)(n.N,{children:k&&(0,l.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/60 to-transparent",onClick:e=>e.stopPropagation(),children:[!P&&(0,l.jsxs)("div",{className:"flex justify-center gap-2 mb-4",children:[(0,l.jsx)("button",{onClick:()=>$("out"),disabled:g<=1,className:"p-2 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors disabled:opacity-50","aria-label":"Uzaklaştır",children:(0,l.jsx)(x,{className:"w-5 h-5 text-white"})}),(0,l.jsx)("button",{onClick:()=>$("in"),disabled:g>=3,className:"p-2 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors disabled:opacity-50","aria-label":"Yakınlaştır",children:(0,l.jsx)(y,{className:"w-5 h-5 text-white"})})]}),(0,l.jsx)("div",{className:"text-center text-white",children:(0,l.jsxs)("p",{className:"text-lg font-medium",children:[c+1," / ",e.length]})}),e.length>1&&(0,l.jsx)("div",{className:"flex justify-center gap-1 mt-4 overflow-x-auto no-scrollbar px-4",children:e.slice(Math.max(0,c-4),c+5).map((e,t)=>{let a=Math.max(0,c-4)+t;return(0,l.jsx)("button",{onClick:()=>b(a),className:`flex-shrink-0 w-12 h-12 rounded-lg overflow-hidden transition-all ${a===c?"ring-2 ring-white scale-110":"opacity-50 hover:opacity-75"}`,children:(0,l.jsx)("img",{src:e.thumbnails.small,alt:"",className:"w-full h-full object-cover"})},e.id)})})]})})]})}},1362:(e,t,a)=>{a.d(t,{A:()=>l});let l=(0,a(8340).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},2599:(e,t,a)=>{function l(e){try{let t=localStorage.getItem(`cache_${e}`);if(!t)return null;let a=JSON.parse(t),l=Date.now();if(l>a.timestamp+18e5)return localStorage.removeItem(`cache_${e}`),null;let r=l>a.expiresAt;return{data:a.data,isStale:r}}catch{return null}}function r(e,t,a=3e5){try{let l={data:t,timestamp:Date.now(),expiresAt:Date.now()+a};localStorage.setItem(`cache_${e}`,JSON.stringify(l))}catch{console.warn("Failed to cache data")}}function i(e){return`drive_folder_${e}`}function n(){try{if("1"!==localStorage.getItem("cache_version")){try{Object.keys(localStorage).forEach(e=>{e.startsWith("cache_")&&localStorage.removeItem(e)})}catch{}localStorage.setItem("cache_version","1")}}catch{}}a.d(t,{Is:()=>r,WA:()=>i,lU:()=>n,pf:()=>l})}}]);