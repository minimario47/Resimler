"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[703],{232:(e,t,a)=>{a.d(t,{A:()=>l});let l=(0,a(8340).A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},1028:(e,t,a)=>{a.d(t,{A:()=>g});var l=a(5155),r=a(2115),i=a(9673),n=a(642),o=a(3210),s=a(8340);let c=(0,s.A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var d=a(7686);let h=(0,s.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var u=a(1641),m=a(1362);let x=(0,s.A)("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),b=(0,s.A)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),y=(0,r.memo)(function({item:e,onLoad:t}){let[a,i]=(0,r.useState)(e.thumbnails.medium),[n,o]=(0,r.useState)("preview");return(0,r.useEffect)(()=>{let a=!1,l=!1;i(e.thumbnails.medium),o("preview");let r=new Image;r.onload=()=>{!a&&(l||(t(),l=!0))},r.onerror=()=>{a||i(e.thumbnails.large)},r.src=e.thumbnails.medium;let n=new Image;n.onload=()=>{!a&&(i(e.thumbnails.large),o("full"),l||(t(),l=!0))},n.src=e.thumbnails.large;let s=new Image;return s.onload=()=>{a||(i(e.original_url),o("done"))},s.src=e.original_url,()=>{a=!0,r.onload=null,n.onload=null,s.onload=null}},[e,t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("img",{src:a,alt:"Fotoğraf",className:"max-w-full max-h-[85vh] object-contain select-none transition-opacity duration-300",draggable:!1}),"done"!==n&&(0,l.jsxs)("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/50 rounded-full text-xs text-white/60 flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 border border-white/40 border-t-white rounded-full animate-spin"}),"Y\xfcksek kalite y\xfckleniyor..."]})]})});function g({media:e,initialIndex:t,onClose:a}){let[s,g]=(0,r.useState)(t),[p,f]=(0,r.useState)(1),[w,k]=(0,r.useState)({x:0,y:0}),[v,j]=(0,r.useState)(!0),[N,C]=(0,r.useState)(!1),[S,A]=(0,r.useState)(!1),_=(0,r.useRef)(new Set([t])),E=(0,r.useRef)(null),I=e[s],P="video"===I.media_type;(0,r.useEffect)(()=>{[s-1,s+1,s+2].filter(t=>t>=0&&t<e.length).forEach(t=>{_.current.has(t)||(new window.Image().src=e[t].thumbnails.medium,new window.Image().src=e[t].thumbnails.large,_.current.add(t))})},[s,e]);let z=(0,r.useCallback)(()=>{f(1),k({x:0,y:0}),A(!1),g(t=>(t+1)%e.length)},[e.length]),M=(0,r.useCallback)(()=>{f(1),k({x:0,y:0}),A(!1),g(t=>(t-1+e.length)%e.length)},[e.length]);(0,r.useEffect)(()=>{let e=e=>{switch(e.key){case"Escape":a();break;case"ArrowLeft":M();break;case"ArrowRight":z()}};return document.addEventListener("keydown",e),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=""}},[z,M,a]),(0,r.useEffect)(()=>(j(!0),E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{j(!1)},3e3),()=>{E.current&&clearTimeout(E.current)}),[s]);let T=e=>{f(t=>Math.min(Math.max("in"===e?1.5*t:t/1.5,1),3)),"out"===e&&p<=1.5&&k({x:0,y:0})},D=async()=>{if(navigator.share)try{await navigator.share({title:"\xd6zlem & Z\xfcbeyir D\xfcğ\xfcn Arşivi",text:"D\xfcğ\xfcn fotoğraflarından",url:window.location.href})}catch{}else navigator.clipboard.writeText(window.location.href)},F=(0,r.useCallback)(e=>{p>1||("left"===e?z():M())},[p,z,M]);return(0,l.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95",onClick:()=>j(!v),role:"dialog","aria-modal":"true","aria-label":"Fotoğraf g\xf6r\xfcnt\xfcleyici",children:[(0,l.jsx)(n.N,{children:v&&(0,l.jsxs)(i.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-0 left-0 right-0 z-10 p-4 flex items-center justify-between bg-gradient-to-b from-black/60 to-transparent",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("button",{onClick:a,className:"p-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors","aria-label":"Kapat",children:(0,l.jsx)(o.A,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:D,className:"p-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors","aria-label":"Paylaş",children:(0,l.jsx)(c,{className:"w-5 h-5 text-white"})}),(0,l.jsx)("button",{onClick:()=>C(!N),className:"p-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors","aria-label":N?"Favorilerden kaldır":"Favorilere ekle",children:(0,l.jsx)(d.A,{className:`w-5 h-5 ${N?"text-accent fill-accent":"text-white"}`})}),(0,l.jsxs)("button",{onClick:()=>{let e=document.createElement("a");e.href=I.original_url,e.download=`Ozlem-Zubeyir_${s+1}.jpg`,e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"p-3 rounded-full bg-accent hover:bg-accent-dark transition-colors flex items-center gap-2","aria-label":"İndir",children:[(0,l.jsx)(h,{className:"w-5 h-5 text-white"}),(0,l.jsx)("span",{className:"text-white text-sm hidden sm:inline",children:"İndir"})]})]})]})}),(0,l.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center",onTouchStart:e=>{let t=e.touches[0];e.currentTarget.dataset.startX=t.clientX.toString()},onTouchEnd:e=>{let t=parseFloat(e.currentTarget.dataset.startX||"0")-e.changedTouches[0].clientX;Math.abs(t)>50&&F(t>0?"left":"right")},children:[!S&&!P&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-0",children:(0,l.jsx)("div",{className:"w-8 h-8 border-2 border-white/30 border-t-white rounded-full animate-spin"})}),(0,l.jsx)(i.P.div,{drag:p>1,dragConstraints:{left:-200,right:200,top:-200,bottom:200},onDrag:(e,t)=>{p>1&&k({x:w.x+t.delta.x,y:w.y+t.delta.y})},onDragEnd:(e,t)=>{1===p&&Math.abs(t.velocity.y)>500&&a()},onDoubleClick:()=>{p>1?(f(1),k({x:0,y:0})):f(2)},className:"relative w-full h-full flex items-center justify-center",style:{scale:p,x:w.x,y:w.y},children:P?(0,l.jsx)("video",{src:I.original_url,className:"max-w-full max-h-[85vh] object-contain",controls:!0,playsInline:!0,autoPlay:!0,onClick:e=>e.stopPropagation()}):(0,l.jsx)(y,{item:I,onLoad:()=>A(!0)},I.id)}),e.length>1&&v&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),M()},className:"absolute left-2 md:left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors","aria-label":"\xd6nceki",children:(0,l.jsx)(u.A,{className:"w-6 h-6 text-white"})}),(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),z()},className:"absolute right-2 md:right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors","aria-label":"Sonraki",children:(0,l.jsx)(m.A,{className:"w-6 h-6 text-white"})})]})]}),(0,l.jsx)(n.N,{children:v&&(0,l.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/60 to-transparent",onClick:e=>e.stopPropagation(),children:[!P&&(0,l.jsxs)("div",{className:"flex justify-center gap-2 mb-4",children:[(0,l.jsx)("button",{onClick:()=>T("out"),disabled:p<=1,className:"p-2 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors disabled:opacity-50","aria-label":"Uzaklaştır",children:(0,l.jsx)(x,{className:"w-5 h-5 text-white"})}),(0,l.jsx)("button",{onClick:()=>T("in"),disabled:p>=3,className:"p-2 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors disabled:opacity-50","aria-label":"Yakınlaştır",children:(0,l.jsx)(b,{className:"w-5 h-5 text-white"})})]}),(0,l.jsx)("div",{className:"text-center text-white",children:(0,l.jsxs)("p",{className:"text-lg font-medium",children:[s+1," / ",e.length]})}),e.length>1&&(0,l.jsx)("div",{className:"flex justify-center gap-1 mt-4 overflow-x-auto no-scrollbar px-4",children:e.slice(Math.max(0,s-4),s+5).map((e,t)=>{let a=Math.max(0,s-4)+t;return(0,l.jsx)("button",{onClick:()=>g(a),className:`flex-shrink-0 w-12 h-12 rounded-lg overflow-hidden transition-all ${a===s?"ring-2 ring-white scale-110":"opacity-50 hover:opacity-75"}`,children:(0,l.jsx)("img",{src:e.thumbnails.small,alt:"",className:"w-full h-full object-cover"})},e.id)})})]})})]})}},1362:(e,t,a)=>{a.d(t,{A:()=>l});let l=(0,a(8340).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},2599:(e,t,a)=>{function l(e){try{let t=localStorage.getItem(`cache_${e}`);if(!t)return null;let a=JSON.parse(t),l=Date.now();if(l>a.timestamp+18e5)return localStorage.removeItem(`cache_${e}`),null;let r=l>a.expiresAt;return{data:a.data,isStale:r}}catch{return null}}function r(e,t,a=3e5){try{let l={data:t,timestamp:Date.now(),expiresAt:Date.now()+a};localStorage.setItem(`cache_${e}`,JSON.stringify(l))}catch{console.warn("Failed to cache data")}}function i(){try{if("1"!==localStorage.getItem("cache_version")){try{Object.keys(localStorage).forEach(e=>{e.startsWith("cache_")&&localStorage.removeItem(e)})}catch{}localStorage.setItem("cache_version","1")}}catch{}}a.d(t,{Is:()=>r,lU:()=>i,pf:()=>l})}}]);