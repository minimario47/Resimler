(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[865],{232:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(8340).A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},1362:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(8340).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},2129:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(8340).A)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},2164:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(8340).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},2599:(e,t,a)=>{"use strict";function l(e){try{let t=localStorage.getItem(`cache_${e}`);if(!t)return null;let a=JSON.parse(t),l=Date.now();if(l>a.timestamp+18e5)return localStorage.removeItem(`cache_${e}`),null;let r=l>a.expiresAt;return{data:a.data,isStale:r}}catch{return null}}function r(e,t,a=3e5){try{let l={data:t,timestamp:Date.now(),expiresAt:Date.now()+a};localStorage.setItem(`cache_${e}`,JSON.stringify(l))}catch{console.warn("Failed to cache data")}}function s(){try{if("1"!==localStorage.getItem("cache_version")){try{Object.keys(localStorage).forEach(e=>{e.startsWith("cache_")&&localStorage.removeItem(e)})}catch{}localStorage.setItem("cache_version","1")}}catch{}}a.d(t,{Is:()=>r,lU:()=>s,pf:()=>l})},8553:(e,t,a)=>{Promise.resolve().then(a.bind(a,9801)),Promise.resolve().then(a.bind(a,8481))},9801:(e,t,a)=>{"use strict";a.d(t,{default:()=>R});var l=a(5155),r=a(2115),s=a(8481),n=a(3321),i=a(2129),o=a(8340);let c=(0,o.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var d=a(1641),u=a(1362),m=a(8807),h=a(2599);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,l)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach(function(t){var l,r,s;l=e,r=t,s=a[t],r in l?Object.defineProperty(l,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}class g extends r.Component{constructor(e){let t;super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this),t=this.props.breakpointCols&&this.props.breakpointCols.default?this.props.breakpointCols.default:parseInt(this.props.breakpointCols)||2,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})):this.reCalculateColumnCount()}reCalculateColumnCount(){let e=window&&window.innerWidth||1/0,t=this.props.breakpointCols;"object"!=typeof t&&(t={default:parseInt(t)||2});let a=1/0,l=t.default||2;for(let r in t){let s=parseInt(r);s>0&&e<=s&&s<a&&(a=s,l=t[r])}l=Math.max(1,parseInt(l)||1),this.state.columnCount!==l&&this.setState({columnCount:l})}itemsInColumns(){let e=this.state.columnCount,t=Array(e),a=r.Children.toArray(this.props.children);for(let l=0;l<a.length;l++){let r=l%e;t[r]||(t[r]=[]),t[r].push(a[l])}return t}renderColumns(){let{column:e,columnAttrs:t={},columnClassName:a}=this.props,l=this.itemsInColumns(),s=`${100/l.length}%`,n=a;n&&"string"!=typeof n&&(this.logDeprecated('The property "columnClassName" requires a string'),void 0===n&&(n="my-masonry-grid_column"));let i=b(b(b({},e),t),{},{style:b(b({},t.style),{},{width:s}),className:n});return l.map((e,t)=>r.createElement("div",p({},i,{key:t}),e))}logDeprecated(e){console.error("[Masonry]",e)}render(){let e=this.props,{children:t,breakpointCols:a,columnClassName:l,columnAttrs:s,column:n,className:i}=e,o=function(e,t){if(null==e)return{};var a,l,r=function(e,t){if(null==e)return{};var a,l,r={},s=Object.keys(e);for(l=0;l<s.length;l++)a=s[l],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]),c=i;return"string"!=typeof i&&(this.logDeprecated('The property "className" requires a string'),void 0===i&&(c="my-masonry-grid")),r.createElement("div",p({},o,{className:c}),this.renderColumns())}}g.defaultProps={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0};var f=a(232),y=a(7686),v=a(9673),w=a(642),j=a(3210);let k=(0,o.A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),N=(0,o.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),C=(0,o.A)("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),S=(0,o.A)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),M=(0,r.memo)(function({item:e,onLoad:t}){let[a,s]=(0,r.useState)(e.thumbnails.medium),[n,i]=(0,r.useState)("preview");return(0,r.useEffect)(()=>{let a=!1,l=!1,r=new Image;r.onload=()=>{!a&&(l||(t(),l=!0))},r.onerror=()=>{a||s(e.thumbnails.large)},r.src=e.thumbnails.medium;let n=new Image;n.onload=()=>{!a&&(s(e.thumbnails.large),i("full"),l||(t(),l=!0))},n.src=e.thumbnails.large;let o=new Image;return o.onload=()=>{a||(s(e.original_url),i("done"))},o.src=e.original_url,()=>{a=!0,r.onload=null,n.onload=null,o.onload=null}},[e,t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("img",{src:a,alt:"Fotoğraf",className:"max-w-full max-h-[85vh] object-contain select-none transition-opacity duration-300",draggable:!1}),"done"!==n&&(0,l.jsxs)("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/50 rounded-full text-xs text-white/60 flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 border border-white/40 border-t-white rounded-full animate-spin"}),"Y\xfcksek kalite y\xfckleniyor..."]})]})});function A({media:e,initialIndex:t,onClose:a}){let[s,n]=(0,r.useState)(t),[i,o]=(0,r.useState)(1),[c,m]=(0,r.useState)({x:0,y:0}),[h,p]=(0,r.useState)(!0),[x,b]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),A=(0,r.useRef)(new Set([t])),_=(0,r.useRef)(null),O=e[s],$="video"===O.media_type;(0,r.useEffect)(()=>{[s-1,s+1,s+2].filter(t=>t>=0&&t<e.length).forEach(t=>{A.current.has(t)||(new window.Image().src=e[t].thumbnails.medium,new window.Image().src=e[t].thumbnails.large,A.current.add(t))})},[s,e]);let E=(0,r.useCallback)(()=>{o(1),m({x:0,y:0}),f(!1),n(t=>(t+1)%e.length)},[e.length]),D=(0,r.useCallback)(()=>{o(1),m({x:0,y:0}),f(!1),n(t=>(t-1+e.length)%e.length)},[e.length]);(0,r.useEffect)(()=>{let e=e=>{switch(e.key){case"Escape":a();break;case"ArrowLeft":D();break;case"ArrowRight":E()}};return document.addEventListener("keydown",e),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=""}},[E,D,a]),(0,r.useEffect)(()=>(p(!0),_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{p(!1)},3e3),()=>{_.current&&clearTimeout(_.current)}),[s]);let P=e=>{o(t=>Math.min(Math.max("in"===e?1.5*t:t/1.5,1),3)),"out"===e&&i<=1.5&&m({x:0,y:0})},I=async()=>{if(navigator.share)try{await navigator.share({title:"\xd6zlem & Z\xfcbeyir D\xfcğ\xfcn Arşivi",text:"D\xfcğ\xfcn fotoğraflarından",url:window.location.href})}catch{}else navigator.clipboard.writeText(window.location.href)},F=(0,r.useCallback)(e=>{i>1||("left"===e?E():D())},[i,E,D]);return(0,l.jsxs)(v.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95",onClick:()=>p(!h),role:"dialog","aria-modal":"true","aria-label":"Fotoğraf g\xf6r\xfcnt\xfcleyici",children:[(0,l.jsx)(w.N,{children:h&&(0,l.jsxs)(v.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-0 left-0 right-0 z-10 p-4 flex items-center justify-between bg-gradient-to-b from-black/60 to-transparent",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("button",{onClick:a,className:"p-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors","aria-label":"Kapat",children:(0,l.jsx)(j.A,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:I,className:"p-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors","aria-label":"Paylaş",children:(0,l.jsx)(k,{className:"w-5 h-5 text-white"})}),(0,l.jsx)("button",{onClick:()=>b(!x),className:"p-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors","aria-label":x?"Favorilerden kaldır":"Favorilere ekle",children:(0,l.jsx)(y.A,{className:`w-5 h-5 ${x?"text-accent fill-accent":"text-white"}`})}),(0,l.jsxs)("button",{onClick:()=>{let e=document.createElement("a");e.href=O.original_url,e.download=`Ozlem-Zubeyir_${s+1}.jpg`,e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"p-3 rounded-full bg-accent hover:bg-accent-dark transition-colors flex items-center gap-2","aria-label":"İndir",children:[(0,l.jsx)(N,{className:"w-5 h-5 text-white"}),(0,l.jsx)("span",{className:"text-white text-sm hidden sm:inline",children:"İndir"})]})]})]})}),(0,l.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center",onTouchStart:e=>{let t=e.touches[0];e.currentTarget.dataset.startX=t.clientX.toString()},onTouchEnd:e=>{let t=parseFloat(e.currentTarget.dataset.startX||"0")-e.changedTouches[0].clientX;Math.abs(t)>50&&F(t>0?"left":"right")},children:[!g&&!$&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-0",children:(0,l.jsx)("div",{className:"w-8 h-8 border-2 border-white/30 border-t-white rounded-full animate-spin"})}),(0,l.jsx)(v.P.div,{drag:i>1,dragConstraints:{left:-200,right:200,top:-200,bottom:200},onDrag:(e,t)=>{i>1&&m({x:c.x+t.delta.x,y:c.y+t.delta.y})},onDragEnd:(e,t)=>{1===i&&Math.abs(t.velocity.y)>500&&a()},onDoubleClick:()=>{i>1?(o(1),m({x:0,y:0})):o(2)},className:"relative w-full h-full flex items-center justify-center",style:{scale:i,x:c.x,y:c.y},children:$?(0,l.jsx)("video",{src:O.original_url,className:"max-w-full max-h-[85vh] object-contain",controls:!0,playsInline:!0,autoPlay:!0,onClick:e=>e.stopPropagation()}):(0,l.jsx)(M,{item:O,onLoad:()=>f(!0)},O.id)}),e.length>1&&h&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),D()},className:"absolute left-2 md:left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors","aria-label":"\xd6nceki",children:(0,l.jsx)(d.A,{className:"w-6 h-6 text-white"})}),(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),E()},className:"absolute right-2 md:right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors","aria-label":"Sonraki",children:(0,l.jsx)(u.A,{className:"w-6 h-6 text-white"})})]})]}),(0,l.jsx)(w.N,{children:h&&(0,l.jsxs)(v.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/60 to-transparent",onClick:e=>e.stopPropagation(),children:[!$&&(0,l.jsxs)("div",{className:"flex justify-center gap-2 mb-4",children:[(0,l.jsx)("button",{onClick:()=>P("out"),disabled:i<=1,className:"p-2 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors disabled:opacity-50","aria-label":"Uzaklaştır",children:(0,l.jsx)(C,{className:"w-5 h-5 text-white"})}),(0,l.jsx)("button",{onClick:()=>P("in"),disabled:i>=3,className:"p-2 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors disabled:opacity-50","aria-label":"Yakınlaştır",children:(0,l.jsx)(S,{className:"w-5 h-5 text-white"})})]}),(0,l.jsx)("div",{className:"text-center text-white",children:(0,l.jsxs)("p",{className:"text-lg font-medium",children:[s+1," / ",e.length]})}),e.length>1&&(0,l.jsx)("div",{className:"flex justify-center gap-1 mt-4 overflow-x-auto no-scrollbar px-4",children:e.slice(Math.max(0,s-4),s+5).map((e,t)=>{let a=Math.max(0,s-4)+t;return(0,l.jsx)("button",{onClick:()=>n(a),className:`flex-shrink-0 w-12 h-12 rounded-lg overflow-hidden transition-all ${a===s?"ring-2 ring-white scale-110":"opacity-50 hover:opacity-75"}`,children:(0,l.jsx)("img",{src:e.thumbnails.small,alt:"",className:"w-full h-full object-cover"})},e.id)})})]})})]})}let _=(0,r.memo)(function({src:e,mediumSrc:t,alt:a,className:s="",width:n,height:i,priority:o=!1,onClick:c,onLoad:d}){let[u,m]=(0,r.useState)(o),[h,p]=(0,r.useState)(t||e),[x,b]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[w,j]=(0,r.useState)(!1),k=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(o)return;let e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(m(!0),e.disconnect())})},{rootMargin:"300px 0px",threshold:0});return k.current&&e.observe(k.current),()=>e.disconnect()},[o]);let N=(0,r.useCallback)(()=>{c?.()},[c]),C=(0,r.useCallback)(e=>{try{let t=document.createElement("canvas");t.width=36,t.height=36;let a=t.getContext("2d",{willReadFrequently:!0});if(!a)return{leftBand:!1,bottomBand:!1};a.drawImage(e,0,0,36,36);let l=a.getImageData(0,0,36,36).data,r=(e,t,a,l)=>l>245&&2>=Math.abs(e-t)&&2>=Math.abs(t-a)&&e>=112&&e<=146,s=(e,t,a,s)=>{let n=0,i=0;for(let o=a;o<s;o+=1)for(let a=e;a<t;a+=1){let e=(36*o+a)*4,t=l[e],s=l[e+1],c=l[e+2],d=l[e+3];r(t,s,c,d)&&(n+=1),i+=1}return i>0?n/i:0},n=s(0,Math.floor(7.2),0,36),i=s(Math.floor(10.799999999999999),Math.floor(25.2),0,36),o=s(0,36,0,Math.floor(12.6)),c=s(0,36,Math.floor(23.400000000000002),36);return{leftBand:n>.9&&i<.75,bottomBand:c>.9&&o<.75}}catch{return{leftBand:!1,bottomBand:!1}}},[]),S=(0,r.useMemo)(()=>"number"==typeof n&&n>0&&"number"==typeof i&&i>0?`${n} / ${i}`:"3 / 4",[n,i]);return(0,l.jsxs)("div",{ref:k,className:`relative overflow-hidden bg-slate-900/10 min-h-[180px] ${s}`,style:{aspectRatio:S},onClick:N,role:c?"button":void 0,tabIndex:c?0:void 0,onKeyDown:c?e=>"Enter"===e.key&&N():void 0,children:[u&&(0,l.jsx)("img",{src:h,alt:a,className:"absolute inset-0 w-full h-full object-cover",loading:o?"eager":"lazy",decoding:"auto",fetchPriority:o?"high":"auto",crossOrigin:"anonymous",style:g?{transform:"scale(1.2)",transformOrigin:"right center"}:void 0,onLoad:t=>{let a=C(t.currentTarget);if(a.bottomBand){if(!x&&h!==e){b(!0),v(!1),j(!1),f(!1),p(e);return}j(!0);return}a.leftBand&&f(!0),v(!0),d?.()},onError:()=>{if(!x&&h!==e){b(!0),v(!1),j(!1),f(!1),p(e);return}j(!0),v(!1)}}),u&&!y&&!w&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,l.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white/70 rounded-full animate-spin"})}),w&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-800/20",children:(0,l.jsx)("span",{className:"text-xs text-white/70",children:"Bozuk Dosya"})})]})}),O=(0,r.memo)(function({item:e,index:t,onSelect:a,isFavorite:s,onToggleFavorite:n}){let i=(0,r.useCallback)(()=>a(t),[a,t]),o=(0,r.useCallback)(t=>n(t,e.id),[n,e.id]),c=t<8;return(0,l.jsx)("div",{className:"mb-2 animate-fade-in",style:{animationDelay:`${Math.min(20*t,200)}ms`},children:(0,l.jsx)("div",{className:"relative group cursor-pointer rounded-lg overflow-hidden bg-slate/5",role:"button",tabIndex:0,"aria-label":`${e.title} g\xf6r\xfcnt\xfcle`,children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(_,{src:e.original_url,mediumSrc:e.thumbnails.medium,alt:e.title,width:e.width,height:e.height,priority:c,onClick:i,className:"transition-transform duration-300 group-hover:scale-105"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors pointer-events-none"}),"video"===e.media_type&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,l.jsx)("div",{className:"w-12 h-12 rounded-full bg-white/90 flex items-center justify-center shadow-lg",children:(0,l.jsx)(f.A,{className:"w-5 h-5 text-slate ml-0.5",fill:"currentColor"})})}),(0,l.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2 flex items-end justify-between pointer-events-none",children:[(0,l.jsx)("span",{className:"text-xs text-white bg-black/40 backdrop-blur-sm px-2 py-1 rounded",children:new Date(e.created_at).toLocaleDateString("tr-TR",{day:"numeric",month:"short"})}),"video"===e.media_type&&e.duration&&(0,l.jsx)("span",{className:"text-xs text-white bg-black/40 backdrop-blur-sm px-2 py-1 rounded",children:(e=>{if(!e)return"";let t=Math.floor(e/60);return`${t}:${(e%60).toString().padStart(2,"0")}`})(e.duration)})]}),(0,l.jsx)("button",{onClick:o,className:"absolute top-2 right-2 p-2 rounded-full bg-black/30 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity z-10","aria-label":s?"Favorilerden kaldır":"Favorilere ekle",children:(0,l.jsx)(y.A,{className:`w-4 h-4 ${s?"text-accent fill-accent":"text-white"}`})})]})})})});function $({media:e,gridSize:t="normal"}){let[a,s]=(0,r.useState)(null),[n,i]=(0,r.useState)(new Set),o=(0,r.useMemo)(()=>{switch(t){case"compact":return{default:4,1024:3,768:3,420:2};case"large":return{default:2,1024:2,768:1,420:1};default:return{default:4,1024:3,768:2,420:2}}},[t]),c=(0,r.useCallback)(e=>{s(e)},[]),d=(0,r.useCallback)((e,t)=>{e.stopPropagation(),i(e=>{let a=new Set(e);return a.has(t)?a.delete(t):a.add(t),a})},[]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g,{breakpointCols:o,className:"flex w-auto -ml-2",columnClassName:"pl-2 bg-clip-padding",children:e.map((e,t)=>(0,l.jsx)(O,{item:e,index:t,onSelect:c,isFavorite:n.has(e.id),onToggleFavorite:d},`${e.id}-${e.original_url}-${t}`))}),null!==a&&(0,l.jsx)(A,{media:e,initialIndex:a,onClose:()=>s(null)})]})}let E=(0,o.A)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var D=a(2164);let P=(0,o.A)("arrow-up-narrow-wide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),I=(0,o.A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),F=(0,o.A)("grid-2x2",[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 12h18",key:"1i2n21"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]]),z=(0,o.A)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);function T({gridSize:e,onGridSizeChange:t,sortOption:a,onSortChange:r,mediaType:s,onMediaTypeChange:n,photoCount:i,hideMediaTypeFilter:o,showRefresh:d,onRefresh:u,isRefreshing:m,driveFolderId:h}){return(0,l.jsx)("div",{className:"sticky top-14 md:top-16 z-30 bg-cream/95 backdrop-blur-md border-b border-slate/10 py-3 px-4",children:(0,l.jsxs)("div",{className:"max-w-[1200px] mx-auto flex items-center justify-between gap-4",children:[(0,l.jsx)("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:o?(0,l.jsxs)("div",{className:"flex items-center gap-2 text-slate/60",children:[(0,l.jsx)(E,{className:"w-4 h-4"}),(0,l.jsxs)("span",{className:"text-sm",children:[(0,l.jsx)("span",{className:"font-medium text-slate",children:i})," fotoğraf"]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>n("all"),className:`px-3 py-1.5 text-sm rounded-full transition-colors whitespace-nowrap ${"all"===s?"bg-slate text-cream":"bg-slate/10 hover:bg-slate/20"}`,children:"T\xfcm\xfc"}),(0,l.jsx)("button",{onClick:()=>n("photo"),className:`px-3 py-1.5 text-sm rounded-full transition-colors whitespace-nowrap ${"photo"===s?"bg-slate text-cream":"bg-slate/10 hover:bg-slate/20"}`,children:"Fotoğraflar"}),(0,l.jsx)("button",{onClick:()=>n("video"),className:`px-3 py-1.5 text-sm rounded-full transition-colors whitespace-nowrap ${"video"===s?"bg-slate text-cream":"bg-slate/10 hover:bg-slate/20"}`,children:"Videolar"})]})}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[d&&(0,l.jsx)("button",{onClick:u,disabled:m,className:"p-2 rounded-lg bg-slate/10 hover:bg-slate/20 transition-colors disabled:opacity-50",title:"Yenile",children:(0,l.jsx)(c,{className:`w-4 h-4 ${m?"animate-spin":""}`})}),h&&(0,l.jsx)("a",{href:`https://drive.google.com/drive/folders/${h}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg bg-slate/10 hover:bg-slate/20 transition-colors",title:"Google Drive'da A\xe7",children:(0,l.jsx)(D.A,{className:"w-4 h-4"})}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("select",{value:a,onChange:e=>r(e.target.value),className:"appearance-none bg-slate/10 hover:bg-slate/20 px-3 py-1.5 pr-8 text-sm rounded-lg cursor-pointer transition-colors","aria-label":"Sıralama",children:[(0,l.jsx)("option",{value:"chronological",children:"Tarihe g\xf6re"}),(0,l.jsx)("option",{value:"reverse",children:"Ters sıra"}),(0,l.jsx)("option",{value:"featured",children:"\xd6ne \xe7ıkan"})]}),(0,l.jsx)(P,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 pointer-events-none"})]}),(0,l.jsxs)("div",{className:"hidden sm:flex items-center bg-slate/10 rounded-lg p-0.5",children:[(0,l.jsx)("button",{onClick:()=>t("compact"),className:`p-1.5 rounded transition-colors ${"compact"===e?"bg-cream shadow-sm":"hover:bg-slate/10"}`,"aria-label":"Kompakt g\xf6r\xfcn\xfcm",children:(0,l.jsx)(I,{className:"w-4 h-4"})}),(0,l.jsx)("button",{onClick:()=>t("normal"),className:`p-1.5 rounded transition-colors ${"normal"===e?"bg-cream shadow-sm":"hover:bg-slate/10"}`,"aria-label":"Normal g\xf6r\xfcn\xfcm",children:(0,l.jsx)(F,{className:"w-4 h-4"})}),(0,l.jsx)("button",{onClick:()=>t("large"),className:`p-1.5 rounded transition-colors ${"large"===e?"bg-cream shadow-sm":"hover:bg-slate/10"}`,"aria-label":"B\xfcy\xfck g\xf6r\xfcn\xfcm",children:(0,l.jsx)(z,{className:"w-4 h-4"})})]})]})]})})}function B({categoryId:e,categoryName:t,categoryDate:a="2025-12-25"}){let[s,o]=(0,r.useState)([]),[p,x]=(0,r.useState)(!0),[b,g]=(0,r.useState)(null),[f,y]=(0,r.useState)("normal"),[v,w]=(0,r.useState)("chronological"),[j,k]=(0,r.useState)(!1),N=(0,n.useRouter)(),C=(0,n.usePathname)(),S=(0,n.useSearchParams)(),M=(0,r.useRef)(!1),A=Number(S.get("page")||"1"),_=Number.isFinite(A)&&A>0?A:1,[O,E]=(0,r.useState)(_);(0,r.useEffect)(()=>{E(Number.isFinite(A)&&A>0?A:1)},[A]);let D=(0,r.useCallback)((e,t="push")=>{let a=Math.max(1,e);E(a);let l=new URLSearchParams(S.toString());l.set("page",a.toString());let r=`${C}?${l.toString()}`;"replace"===t?N.replace(r,{scroll:!1}):N.push(r,{scroll:!1})},[C,N,S]),P=(0,r.useCallback)(async(t,a)=>{try{let l=await (0,m.WN)(e);0===l.length?(a||g("Bu kategori i\xe7in hen\xfcz fotoğraf eklenmemiş."),o([])):((0,h.Is)(t,l,18e5),o(l))}catch(e){console.error("Fetch failed:",e),a||g("Fotoğraflar y\xfcklenirken bir hata oluştu.")}finally{a||x(!1),k(!1)}},[e]),I=(0,r.useCallback)(async(t=!1)=>{let a=`r2_category_${e}`;if(!t){let e=(0,h.pf)(a);if(e){o(e.data),x(!1),e.isStale&&P(a,!0);return}}t?k(!0):x(!0),g(null),await P(a,t)},[e,P]);(0,r.useEffect)(()=>{M.current||(M.current=!0,I())},[I]);let F=s.map((l,r)=>{let s=(0,m.B4)(l.key),n=[1080,1280,1440,1600,1200],i=n[r%n.length],o=l.key?.trim()||"";return{id:o?`r2:${o}`:l.id?.trim()?`r2:id:${l.id.trim()}-${r}`:`r2:${e}:${r}`,title:l.name.replace(/\.[^.]+$/,""),description:`${t}`,media_type:"photo",created_at:a,source:"local",source_url:s.view,thumbnails:{placeholder:s.thumbnail.placeholder,small:s.thumbnail.small,medium:s.thumbnail.medium,large:s.thumbnail.large},original_url:s.original,width:1920,height:i,tags:[e],is_public:!0,featured:r<3,favorites_count:0,category_id:e}}),z=(0,r.useMemo)(()=>{let e=[...F];return"reverse"===v?e.reverse():"featured"===v&&e.sort((e,t)=>!!t.featured-!!e.featured),e},[F,v]),B=Math.max(1,Math.ceil(z.length/30)),q=Math.min(O,B);(0,r.useEffect)(()=>{O!==q&&D(q,"replace")},[O,q,D]),(0,r.useEffect)(()=>{1!==q&&D(1,"replace")},[v]);let R=(0,r.useMemo)(()=>{let e=(q-1)*30;return z.slice(e,e+30)},[q,z]);return p?(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,l.jsx)("div",{className:"h-6 w-24 bg-slate/10 rounded animate-pulse"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("div",{className:"h-10 w-10 bg-slate/10 rounded animate-pulse"}),(0,l.jsx)("div",{className:"h-10 w-10 bg-slate/10 rounded animate-pulse"})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:Array.from({length:12}).map((e,t)=>(0,l.jsx)("div",{className:"aspect-[4/5] rounded-lg bg-slate/10 animate-pulse",style:{animationDelay:`${50*t}ms`}},t))})]}):b?(0,l.jsxs)("div",{className:"text-center py-20",children:[(0,l.jsx)(i.A,{className:"w-12 h-12 text-slate/30 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-slate/60",children:b}),(0,l.jsx)("p",{className:"text-sm text-slate/40 mt-2",children:"Bu kategori i\xe7in fotoğraflar yakında eklenecek."})]}):0===s.length?(0,l.jsxs)("div",{className:"text-center py-20",children:[(0,l.jsx)(i.A,{className:"w-12 h-12 text-slate/30 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-slate/60",children:"Bu klas\xf6rde hen\xfcz fotoğraf yok."}),(0,l.jsxs)("button",{onClick:()=>I(!0),className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-slate/10 rounded-lg hover:bg-slate/20 transition-colors",children:[(0,l.jsx)(c,{className:"w-4 h-4"}),"Yenile"]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(T,{gridSize:f,onGridSizeChange:y,sortOption:v,onSortChange:w,mediaType:"all",onMediaTypeChange:()=>{},photoCount:s.length,hideMediaTypeFilter:!0,showRefresh:!0,onRefresh:()=>I(!0),isRefreshing:j}),(0,l.jsxs)("div",{className:"mb-3 rounded-xl border border-slate/10 bg-white/60 px-4 py-2 text-sm text-slate/70",children:["Sayfa ",q," / ",B," • Bu sayfada ",R.length," fotoğraf (toplam ",z.length,")"]}),(0,l.jsx)($,{media:R,gridSize:f}),B>1&&(0,l.jsxs)("nav",{className:"mt-6 flex items-center justify-center gap-2","aria-label":"Galeri sayfalama",children:[(0,l.jsxs)("button",{onClick:()=>D(Math.max(1,q-1)),disabled:1===q,className:"inline-flex items-center gap-2 rounded-lg border border-slate/20 bg-white px-3 py-2 text-sm disabled:opacity-40",children:[(0,l.jsx)(d.A,{className:"h-4 w-4"}),"\xd6nceki"]}),(0,l.jsx)("div",{className:"px-3 text-sm text-slate/70",children:q}),(0,l.jsxs)("button",{onClick:()=>D(Math.min(B,q+1)),disabled:q===B,className:"inline-flex items-center gap-2 rounded-lg border border-slate/20 bg-white px-3 py-2 text-sm disabled:opacity-40",children:["Sonraki",(0,l.jsx)(u.A,{className:"h-4 w-4"})]})]})]})}var q=a(2539);function R({category:e}){let t=e.date_range.includes("24")?"2025-12-24":e.date_range.includes("25")?"2025-12-25":e.date_range.includes("26")?"2025-12-26":e.date_range.includes("27")?"2025-12-27":"2025-12-25";return(0,l.jsxs)("main",{className:"min-h-screen bg-cream",children:[(0,l.jsx)(s.default,{showBack:!0,title:e.name}),(0,l.jsxs)("div",{className:"relative h-48 md:h-64 bg-cover bg-center bg-slate/10",style:{backgroundImage:`url(${e.cover_image})`},role:"img","aria-label":`${e.name} kategorisi kapak g\xf6rseli`,children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-slate/5 -z-10"}),(0,l.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 md:p-6",children:(0,l.jsxs)("div",{className:"max-w-[1200px] mx-auto",children:[(0,l.jsx)("h1",{className:"font-serif text-2xl md:text-3xl font-bold text-white",children:e.name}),(0,l.jsx)("p",{className:"text-white/80 text-sm md:text-base mt-1",children:e.description}),(0,l.jsx)("p",{className:"text-white/60 text-sm mt-2",children:e.date_range})]})})]}),(0,l.jsx)("div",{className:"max-w-[1200px] mx-auto px-4 py-6",children:(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)("div",{className:"py-10 text-center text-slate/60",children:"Galeri hazırlanıyor..."}),children:(0,l.jsx)(B,{categoryId:e.id,categoryName:e.name,categoryDate:t})})}),(0,l.jsx)(q.A,{})]})}}},e=>{e.O(0,[790,71,179,441,794,358],()=>e(e.s=8553)),_N_E=e.O()}]);